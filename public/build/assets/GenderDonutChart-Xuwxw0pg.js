import{j as e,r as x}from"./app-CDPwVV6Y.js";import{C as b}from"./Counter-CGpzLNdv.js";import{R as j}from"./ResponsiveContainer-D7OQ-m1D.js";import{P as w,a as g}from"./PieChart-BvDCyIIy.js";import{C as v}from"./CategoricalChart-CwfDGYo-.js";import{T as C}from"./Tooltip-DwUH7b28.js";import"./clsx-B-dksMZM.js";import"./string-BbYD24iH.js";import"./index-Dsz93ONd.js";const y=()=>{const[s,l]=x.useState(window.innerWidth);return x.useEffect(()=>{const n=()=>l(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),s};function T({genderDistribution:s,sexDistribution:l,view:n}){const f=[{name:"LGBTQ",value:s.lgbtq||0},{name:"Female",value:s.female||0},{name:"Male",value:s.male||0}],u=[{name:"Male",value:l.male||0},{name:"Female",value:l.female||0}],r=n==="sex"?u:f,p=y()<768,i=r.reduce((a,t)=>a+t.value,0),d={lgbtq:["#f8b4b4","#fbcfe8","#c7d2fe","#bae6fd","#bbf7d0","#fde68a"],female:["#f9a8d4","#ec4899"],male:["#60a5fa","#2563eb"]},m=a=>a.toLowerCase()==="lgbtq"?d.lgbtq:a.toLowerCase()==="female"?d.female:d.male;return e.jsxs("div",{className:"w-full h-[210px] flex flex-col items-center relative",children:[e.jsx(j,{width:"100%",height:p?250:220,children:e.jsxs(w,{children:[e.jsx("defs",{children:r.map((a,t)=>{const o=m(a.name);return e.jsx("linearGradient",{id:`grad-${t}`,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:o.map((h,c)=>e.jsx("stop",{offset:`${c/(o.length-1)*100}%`,stopColor:h},c))},`grad-${t}`)})}),e.jsx(g,{data:r,cx:"50%",cy:"35%",innerRadius:"40%",outerRadius:"70%",dataKey:"value",children:r.map((a,t)=>e.jsx(v,{fill:`url(#grad-${t})`},`cell-${t}`))}),e.jsx(C,{formatter:a=>`${a} (${(a/i*100).toFixed(1)}%)`,contentStyle:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid rgba(209, 213, 219, 0.5)",borderRadius:"0.75rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"}})]})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("p",{className:"text-2xl font-bold text-gray-800 -translate-y-7",children:e.jsx(b,{end:i})})}),e.jsx("div",{className:"mt-4 w-full",children:r.map((a,t)=>{const o=m(a.name);return e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700 mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-4 h-4 rounded-full mr-2",style:{background:`linear-gradient(to right, ${o.join(", ")})`}}),e.jsx("span",{children:a.name})]}),e.jsxs("span",{className:"font-semibold",children:[a.value," (",(a.value/i*100).toFixed(2),"%)"]})]},t)})})]})}export{T as default};
