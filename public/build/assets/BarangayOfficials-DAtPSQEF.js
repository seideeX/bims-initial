import{j as e,r as o,K as Se,m as Ce,L as Oe,S as W,a as Z}from"./app-CDPwVV6Y.js";import{S as Ee,H as Te,T as $e}from"./AdminLayout-BW3ywimG.js";import De from"./BreadcrumbsHeader-BOSIhs5m.js";import{X as se}from"./x-rg4AgZHH.js";import{M as Ae}from"./map-pin-DjiyU5Lq.js";import{c as Ie}from"./createLucideIcon-B4SoG9zf.js";import{P as Fe,M as Me}from"./phone-CqI8ScEt.js";import{B as q}from"./constants-DHCt9dPc.js";import Re from"./SidebarModal-CSWrtQJc.js";import Be from"./PersonDetailContent-ghJKAROu.js";import{u as Le}from"./useAppUrl-BIsbUUVL.js";import{P as Pe}from"./nav-user-BTW7oy-u.js";import{I as N}from"./InputField-D_ZI8EKx.js";import{D as ee}from"./DropdownInputField-BmM-TOT_.js";import{Y as te}from"./YearDropdown-Cu5CjLYl.js";import{I as Ve}from"./InputLabel-C3y8TkvV.js";import{I as d}from"./InputError-CsvCol3W.js";import{S as _}from"./SelectField-DIeNwIQe.js";import{u as Xe}from"./handleResidentChange-yybasKmi.js";import Ue from"./EditOfficialForm-C7uBp16F.js";import{T as ze}from"./textarea-CVDV7Abf.js";import{t as f,T as He}from"./index-CH7DWExs.js";import{I as Ye,a as Je}from"./index-D4O4cOmu.js";import Ge from"./DynamicTable-C_SQJSlc.js";import Ke from"./ActionMenu-CazUS606.js";import{S as Qe}from"./switch-Zowgx48p.js";import We from"./DeleteConfirmationModal-DcMwm5QA.js";import{S as Ze}from"./square-pen-7JDEATcf.js";import{T as qe}from"./trash-2-DGe7ZjJ3.js";import"./sidebar-BqlEtGlg.js";import"./button-B_aprJyo.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./input-DTbtaxsV.js";import"./index-8Tef56KC.js";import"./index-Dsz93ONd.js";import"./floating-ui.react-dom-VvtSZ_DO.js";import"./tooltip-10O7WS77.js";import"./file-text-DhLfxzDZ.js";import"./users-round-BK2vts8v.js";import"./heart-pulse-BRIexC2Z.js";import"./chevron-up-BBBA9wsx.js";import"./breadcrumb-DsnADmME.js";import"./chevron-right-DYtVQaAj.js";import"./iconBase-DNpEM3Pe.js";import"./index-BDJITxkD.js";import"./index-BvB2ajn5.js";import"./avatar-p9YAZDXV.js";import"./dropdown-menu-DFrz86N0.js";import"./check-BsJSkZwI.js";import"./ellipsis-pjh7Fz_j.js";import"./index-BntGPR1O.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tt=Ie("calendar",et),st=({id:m,name:p,position:j,purok:y,term:C,phone:c,email:w,image:h,onView:O,onDelete:b,onEdit:E})=>{const v=h instanceof File?URL.createObjectURL(h):h?`/storage/${h}`:"/images/default-avatar.jpg";return e.jsxs("div",{className:"group relative flex flex-col h-full bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[e.jsx("div",{className:"h-24 bg-gradient-to-r from-blue-600 to-indigo-600 relative",children:e.jsx("button",{onClick:T=>{T.stopPropagation(),b(m)},className:"absolute top-3 right-3 p-1.5 bg-white/20 hover:bg-red-500 text-white rounded-full backdrop-blur-md transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Delete Official",children:e.jsx(se,{className:"w-4 h-4"})})}),e.jsx("div",{className:"flex justify-center -mt-12 relative z-10",children:e.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-sm",children:e.jsx("img",{src:v,alt:p,className:"w-24 h-24 rounded-full object-cover border-2 border-gray-100 bg-gray-50"})})}),e.jsxs("div",{className:"flex-grow flex flex-col px-5 pt-3 pb-6 text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 leading-tight truncate",title:p,children:p}),e.jsx("p",{className:"text-sm font-medium text-indigo-600 uppercase tracking-wide mt-1",children:j})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 bg-gray-50 rounded-lg p-3 mb-4 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center border-r border-gray-200 pr-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 mb-1",children:[e.jsx(Ae,{className:"w-3 h-3"}),e.jsx("span",{children:"Purok"})]}),e.jsx("span",{className:"font-semibold text-gray-800 truncate w-full",children:y})]}),e.jsxs("div",{className:"flex flex-col items-center pl-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 mb-1",children:[e.jsx(tt,{className:"w-3 h-3"}),e.jsx("span",{children:"Term"})]}),e.jsx("span",{className:"font-semibold text-gray-800 truncate w-full",children:C})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 w-full",children:[c?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-600 bg-white border border-gray-100 py-1.5 px-3 rounded-md",children:[e.jsx(Fe,{className:"w-3.5 h-3.5 text-indigo-500"}),e.jsx("span",{className:"truncate",children:c})]}):e.jsx("div",{className:"h-8"}),w&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-600 bg-white border border-gray-100 py-1.5 px-3 rounded-md",children:[e.jsx(Me,{className:"w-3.5 h-3.5 text-indigo-500"}),e.jsx("span",{className:"truncate",children:w})]})]}),e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>E(m),className:"py-2 px-4 rounded-lg border border-gray-200 text-gray-700 text-xs font-semibold hover:border-indigo-500 hover:text-indigo-600 hover:bg-indigo-50 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>O(m),className:"py-2 px-4 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 shadow-sm hover:shadow transition-all",children:"View"})]})]})]})},at=({onAdd:m})=>e.jsxs("div",{className:"fixed bottom-6 right-6 flex items-center z-50 group",children:[e.jsx("span",{className:`absolute right-16 bg-gray-800 text-white text-sm px-3 py-1
                           rounded-md opacity-0 group-hover:opacity-100
                           transition-opacity duration-200 whitespace-nowrap shadow-md`,children:"Add Barangay Official"}),e.jsx("button",{onClick:m,className:`w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white
                           rounded-full flex items-center justify-center
                           shadow-xl hover:shadow-2xl
                           transition-transform duration-200 hover:scale-110`,children:e.jsx(Pe,{className:"w-6 h-6"})})]}),it=({isOpen:m,onClose:p,title:j,children:y})=>m?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:p}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:j}),e.jsx("button",{onClick:p,className:"text-gray-500 hover:text-gray-700",children:e.jsx(se,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 overflow-y-auto max-h-[80vh]",children:y})]})]}):null,is=({officials:m,residents:p,puroks:j,activeterms:y,terms:C,queryParams:c})=>{const w=[{label:"Barangay Resources",showOnMobile:!1},{label:"Officials",showOnMobile:!0}],h=Le();c=c||{};const[O,b]=o.useState(!1),[E,v]=o.useState(!1),[T,ae]=o.useState(!1),[$,L]=o.useState(null),[k,P]=o.useState(null),[D,ie]=o.useState(!1),[re,A]=o.useState(!1),[V,ne]=o.useState(null),[le,oe]=o.useState(c.term??""),g=Se().props,I=(g==null?void 0:g.success)??null,F=(g==null?void 0:g.error)??null,de=(t,s)=>{s&&s.trim()!==""?c[t]=s:delete c[t],c.page&&delete c.page,W.get(route("barangay_official.index",c))},{data:n,setData:r,post:X,errors:l,processing:M,reset:me,clearErrors:ce}=Ce({resident_name:"",resident_id:"",resident_image:"",position:"",designations:[],term:"",new_term_start:"",new_term_end:"",contact_number:"",email:"",appointment_type:"",appointted_by:"",appointment_reason:"",remarks:"",official_id:"",_method:void 0}),u=t=>{r(t.target.name,t.target.value)},xe=Xe(p,r),pe=async t=>{try{const s=await Z.get(`${h}/resident/showresident/${t}`);L(s.data.resident),b(!0)}catch(s){console.error("Error fetching resident details:",s)}},U=t=>{ne(t),A(!0)},ge=()=>{W.delete(route("barangay_official.destroy",V),{onError:t=>{console.error("Validation Errors:",t);const s=Object.values(t).join("<br />");f.error("Validation Error",{description:e.jsx("span",{dangerouslySetInnerHTML:{__html:s}}),duration:3e3,closeButton:!0})}}),A(!1)},R=(t,s,a,i)=>{const x=[...n[i]||[]];x[s]={...x[s],[a]:t.target.value},r(i,x)},ue=()=>{r("designations",[...n.designations||[],{}])},he=t=>{const s=[...n.designations||[]];s.splice(t,1),r("designations",s),f.warning("Designation removed.",{duration:2e3})},be=()=>{v(!0),b(!0)},z=async t=>{try{const a=(await Z.get(`${h}/barangay_official/officialsinfo/${t}`)).data.official;P(a),console.log(a),r("resident_id",a.resident.id||""),r("resident_name",`${a.resident.firstname} ${a.resident.middlename} ${a.resident.lastname} ${a.resident.suffix??""}`),r("contact_number",a.resident.contact_number||""),r("email",a.resident.email||""),r("position",a.position||""),r("designations",(a.designation||[]).map(i=>({designation:i.purok_id||"",term_start:i.started_at||"",term_end:i.ended_at||""}))),r("term",a.term.id?a.term.id.toString():""),r("resident_image",a.resident.resident_picture_path||""),r("appointment_type",a.appointment_type||""),a.appointment_type==="appointed"?(r("appointted_by",a.appointted_by?a.appointted_by.toString():""),r("appointment_reason",a.appointment_reason||""),r("remarks",a.remarks||"")):(r("appointted_by",""),r("appointment_reason",""),r("remarks","")),r("_method","PUT"),r("official_id",a.id),b(!0),v(!0)}catch(s){console.error("There was an error fetching the data!",s)}},fe=Object.entries(q).map(([t,s])=>({label:s,value:t.toString()})),je=Array.from(new Set(j)).map(t=>({label:"Purok "+t,value:t.toString()})),H=p.map(t=>({label:`${t.firstname} ${t.middlename} ${t.lastname} ${t.suffix??""}`,value:t.id.toString()})),ye=y.map(t=>({label:`${t.term_start} - ${t.term_end}`,value:t.id.toString()})),ve=C.map(t=>({label:`${t.term_start} - ${t.term_end}`,value:t.id.toString()}));o.useEffect(()=>{n.appointment_type!=="appointed"&&r(t=>({...t,appointted_by:"",appointment_reason:""}))},[n.appointment_type]);const S=()=>{b(!1),L(null),P(null),v(!1),me(),ce()},Ne=t=>{t.preventDefault(),X(route("barangay_official.store"),{onError:s=>{console.error("Validation Errors:",s);const a=Object.values(s);f.error("Validation Error",{description:e.jsx("ul",{children:a.map((i,x)=>e.jsx("li",{children:i},x))})})},onSuccess:()=>{S()}})},_e=t=>{t.preventDefault(),X(route("barangay_official.update",n.official_id),{onError:s=>{console.error("Validation Errors:",s);const a=Object.values(s);f.error("Validation Error",{description:e.jsx("ul",{children:a.map((i,x)=>e.jsx("li",{children:i},x))})})},onSuccess:()=>{S()}})},Y=m.reduce((t,s)=>{const a=q[s.position]||"Others";return t[a]||(t[a]=[]),t[a].push(s),t},{}),J=[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"position",label:"Position"},{key:"sex",label:"Sex"},{key:"status",label:"Status"},{key:"term",label:"Term"},{key:"designation",label:"Designation"},{key:"actions",label:"Actions"}],we=J.map(t=>t.key),[B,rt]=o.useState(()=>{const t=localStorage.getItem("official_visible_columns");return t?JSON.parse(t):we});o.useEffect(()=>{localStorage.setItem("official_visible_columns",JSON.stringify(B))},[B]);const ke={id:t=>e.jsx("span",{className:"text-gray-700 font-medium",children:t.id}),name:t=>{const s=t.resident,a=`${s.firstname} ${s.middlename??""} ${s.lastname}${s.suffix?", "+s.suffix:""}`;return e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:a})},position:t=>e.jsx("span",{className:"px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-semibold capitalize",children:t.position.replace(/_/g," ")}),sex:t=>e.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-semibold capitalize "+(t.resident.sex==="male"?"bg-indigo-50 text-indigo-700":"bg-pink-50 text-pink-700"),children:t.resident.sex}),status:t=>e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide "+(t.status==="active"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-200 text-gray-700 border border-gray-300"),children:t.status}),term:t=>{var s,a;return e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:(s=t.term)!=null&&s.term_start&&((a=t.term)!=null&&a.term_end)?`${t.term.term_start} - ${t.term.term_end}`:"—"})},designation:t=>{var a;if(!((a=t.active_designations)!=null&&a.length))return e.jsx("span",{className:"text-gray-500",children:"—"});const s=t.active_designations[0].purok;return e.jsx("span",{className:"px-2 py-1 rounded-md bg-purple-50 text-purple-700 text-xs font-semibold",children:s?`Purok ${s.purok_number}`:"—"})},actions:t=>e.jsx(Ke,{actions:[{label:"Edit",icon:e.jsx(Ze,{className:"w-4 h-4 text-green-600"}),onClick:()=>z(t.id)},{label:"Delete",icon:e.jsx(qe,{className:"w-4 h-4 text-red-600"}),onClick:()=>U(t.id)}],className:"flex justify-center"})};return o.useEffect(()=>{I&&(S(),f.success(I,{description:"Operation successful!",duration:3e3,closeButton:!0})),g.success=null},[I]),o.useEffect(()=>{F&&f.error(F,{description:"Operation failed!",duration:3e3,closeButton:!0}),g.error=null},[F]),e.jsxs(Ee,{children:[e.jsx(Oe,{title:"Barangay Infrastructure"}),e.jsx(De,{breadcrumbs:w}),e.jsx(He,{richColors:!0}),e.jsxs("div",{className:"pt-4 mb-10",children:[e.jsx("div",{className:"mx-auto max-w-8xl px-2 sm:px-4 lg:px-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 m-0",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-0",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(Te,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Barangay Officials Overview"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Review, filter, and manage current and past barangay officials efficiently."})]})]}),e.jsx("div",{className:"flex items-center space-x-2 w-full md:w-[280px]",children:e.jsx(_,{id:"term_filter",name:"term_filter",placeholder:"Filter by Terms",value:le,onChange:t=>{de("term",t.target.value),oe(t.target.value)},className:"w-full",items:ve})})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 m-0",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16",children:Object.keys(Y).map(t=>{const s=Y[t],a=s.length===1;return e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-6 duration-700",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center mb-10 text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-gray-800 tracking-tight mb-2 uppercase relative inline-block",children:t}),e.jsx("div",{className:"w-24 h-1 bg-indigo-600 rounded-full mb-4"}),e.jsxs("span",{className:"px-4 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full border border-indigo-100 uppercase tracking-wider shadow-sm",children:[s.length," ",s.length===1?"Official":"Officials"]})]}),s.length>0?e.jsx("div",{className:a?"flex justify-center w-full":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 justify-items-center",children:s.map(i=>{var x,G,K,Q;return e.jsx("div",{className:"w-full max-w-[320px]",children:e.jsx(st,{id:i.id,onView:()=>pe(i.resident.id),onEdit:()=>z(i.id),onDelete:()=>U(i.id),name:`${i.resident.firstname} ${i.resident.lastname}`,position:t,purok:((G=(x=i.active_designations[0])==null?void 0:x.purok)==null?void 0:G.purok_number)||"N/A",term:`${((K=i.term)==null?void 0:K.term_start)||"0000"} – ${((Q=i.term)==null?void 0:Q.term_end)||"0000"}`,phone:i.resident.contact_number,email:i.resident.email,image:i.resident.resident_picture_path})},i.id)})}):e.jsx("div",{className:"max-w-lg mx-auto p-10 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-300",children:e.jsx("p",{className:"text-gray-400 font-medium italic",children:"No officials found for this position."})})]},t)})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Barangay Officials Directory"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Complete list of current active officials"})]})]}),e.jsx("div",{className:"hidden sm:flex items-center gap-2",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-medium text-gray-500 bg-white border border-gray-200 rounded-md shadow-sm",children:["Total: ",(m==null?void 0:m.length)||0]})})]}),e.jsx("div",{className:"p-0 overflow-x-auto",children:e.jsx("div",{className:"min-w-full inline-block align-middle",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx(Ge,{passedData:m,allColumns:J,columnRenderers:ke,visibleColumns:B,showTotal:!0})})})}),e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-100"})]})]})]})}),e.jsx(at,{onAdd:be}),e.jsxs(Re,{isOpen:O,onClose:()=>S(),title:$?"Resident Details":k?"Edit Official":"Add Official",children:[$&&e.jsx(Be,{person:$}),E&&e.jsxs("form",{onSubmit:k?_e:Ne,className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-700",children:"Barangay Officials Information"}),e.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Please provide details about the elected and appointed officials serving in the barangay, including their positions, terms, and responsibilities."}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex flex-col  items-center",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(Ve,{htmlFor:"resident_image",value:"Resident Photo"}),e.jsx("img",{src:n.resident_image instanceof File?URL.createObjectURL(n.resident_image):n.resident_image?`/storage/${n.resident_image}`:"/images/default-avatar.jpg",alt:"Resident Image",className:"w-64 h-64 object-cover rounded-full border border-gray-200"})]}),e.jsx(d,{message:l.resident_image,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"resident_name",children:"Full Name"}),e.jsx(ee,{id:"resident_name",name:"resident_name",placeholder:"Enter full name",value:n.resident_name||"",onChange:t=>xe(t),items:H}),e.jsx(d,{message:l.resident_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"position",children:"Position"}),e.jsx(_,{id:"position",name:"position",value:n.position,onChange:u,items:fe,children:e.jsx("option",{value:"",disabled:!0,children:"Select barangay position"})}),e.jsx(d,{message:l.position,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",htmlFor:"designation",children:"Phone Number"}),e.jsx(N,{id:"contact_number",name:"contact_number",type:"text",placeholder:"09XXXXXXXXX",value:n.contact_number||"",onChange:u,disabled:!0}),e.jsx(d,{message:l.contact_number,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",htmlFor:"designation",children:"Email"}),e.jsx(N,{id:"email",name:"email",type:"email",placeholder:"test@gmail.com",value:n.email||"",onChange:u,disabled:!0}),e.jsx(d,{message:l.email,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"term",children:"Official Term"}),e.jsx(_,{id:"term",name:"term",placeholder:"Select term of official",value:n.term||"",onChange:u,items:ye}),e.jsx(d,{message:l.term,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"appointment_type",children:"Appointment Type"}),e.jsx(_,{id:"appointment_type",name:"appointment_type",value:n.appointment_type||"",onChange:u,items:[{label:"Elected",value:"elected"},{label:"Appointed",value:"appointed"},{label:"Succession",value:"succession"}]}),e.jsx(d,{message:l.appointment_type,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 col-span-2",children:[e.jsx(Qe,{checked:D,onCheckedChange:ie}),e.jsx("span",{className:"text-sm text-gray-700",children:D?"Hide New Term":"Add New Term (Not Found)"})]}),e.jsx("div",{className:`transition-all duration-300 overflow-hidden col-span-2 ${D?"max-h-96 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(N,{type:"number",label:"Start Year",name:"new_term_start",value:n.new_term_start||"",onChange:t=>r("new_term_start",t.target.value),placeholder:"e.g., 2024"}),e.jsx(d,{message:l.new_term_start,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(N,{type:"number",label:"End Year",name:"new_term_end",value:n.new_term_end||"",onChange:t=>r("new_term_end",t.target.value),placeholder:"e.g., 2027"}),e.jsx(d,{message:l.new_term_end,className:"mt-1"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter the years to create a new barangay term. This will be saved and selectable after submission."})]})})]}),["barangay_kagawad","sk_kagawad"].includes(n.position)&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[(n.designations||[]).map((t,s)=>e.jsxs("div",{className:"items-start pr-8 rounded-md relative",children:[e.jsxs("div",{children:[e.jsx(_,{id:"designation",name:"designation",label:"Designation",value:t.designation||"",onChange:a=>R(a,s,"designation","designations"),items:je.map((a,i)=>({...a,key:i}))}),e.jsx(d,{message:l[`designations.${s}.designation`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(te,{id:"term_start",name:"term_start",label:"Term Start",value:t.term_start||"",onChange:a=>R(a,s,"term_start","designations"),className:"w-full"}),e.jsx(d,{message:l[`designations.${s}.term_start`],className:"mt-2"})]}),e.jsx("div",{children:e.jsx(te,{id:"term_end",name:"term_end",label:"Term Ended",value:t.term_end||"",onChange:a=>R(a,s,"term_end","designations"),className:"w-full"})}),e.jsx("button",{type:"button",onClick:()=>he(s),className:"absolute top-1 right-2 flex items-center gap-1 text-2xl text-red-400 hover:text-red-800 font-medium mt-1 mb-5 transition-colors duration-200",title:"Remove",children:e.jsx(Ye,{})})]},s)),e.jsxs("button",{type:"button",onClick:()=>ue(),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm mt-2",title:"Add Designation",children:[e.jsx(Je,{className:"text-4xl"}),e.jsx("span",{className:"ml-1",children:"Add Designation"})]})]}),n.appointment_type==="appointed"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 items-start",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"appointted_by",children:"Appointed By"}),e.jsx(ee,{id:"appointted_by",name:"appointted_by",placeholder:"Enter full name",value:n.appointted_by||"",onChange:t=>u(t),items:H}),e.jsx(d,{message:l.appointted_by,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"remarks",children:"Remarks"}),e.jsx(N,{id:"remarks",name:"remarks",value:n.remarks,onChange:u}),e.jsx(d,{message:l.remarks,className:"mt-2"})]}),e.jsxs("div",{className:"grid col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"appointment_reason",children:"Appointment Reason"}),e.jsx(ze,{id:"appointment_reason",name:"appointment_reason",value:n.appointment_reason,onChange:u}),e.jsx(d,{message:l.appointment_reason,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",disabled:M,children:k?M?"Updating...":"Update":M?"Saving...":"Save"})})]})]}),e.jsx(it,{isOpen:T,onClose:()=>ae(!1),title:"Edit Barangay Official",children:k&&e.jsx(Ue,{})}),e.jsx(We,{isOpen:re,onClose:()=>A(!1),onConfirm:ge,residentId:V})]})]})};export{is as default};
