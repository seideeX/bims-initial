import{r as n,j as t}from"./app-CDPwVV6Y.js";import{R as S}from"./ResponsiveContainer-D7OQ-m1D.js";import{B as T,Y as C,a as M,L as B}from"./BarChart-xByY4X53.js";import{C as $}from"./CartesianGrid-FaArFERp.js";import{X as k}from"./XAxis-BgXJW02-.js";import{T as z}from"./Tooltip-DwUH7b28.js";import{L as F}from"./Legend-gx1d32PK.js";import"./clsx-B-dksMZM.js";import"./CategoricalChart-CwfDGYo-.js";import"./string-BbYD24iH.js";import"./Label-DusUq1zg.js";import"./index-Dsz93ONd.js";const V=({livelihoodStatistics:g,height:v=280})=>{const[a,N]=n.useState(!1),[s,W]=n.useState(!1),_=n.useMemo(()=>a&&s?"Livelihood by Gender & Disability":a?"Livelihood by Gender":s?"Livelihood by Disability":"Livelihood Distribution",[a,s]),D=n.useMemo(()=>[...g].sort((i,l)=>l.total_livelihood-i.total_livelihood).slice(0,10),[g]),j=n.useMemo(()=>D.map(i=>{const{livelihood_type:l,male_without_disability:r,male_with_disability:o,female_without_disability:m,female_with_disability:y,lgbtq_without_disability:p,lgbtq_with_disability:h,total_livelihood:A}=i,b=Number(o),d=Number(r),c=Number(y),u=Number(m),f=Number(h),x=Number(p),e={livelihood_type:l};return!a&&!s?e.total=b+d+c+u+f+x:a&&!s?(e.male=b+d,e.female=c+u,e.lgbtq=f+x):!a&&s?(e.withDisability=b+c+f,e.withoutDisability=d+u+x):a&&s&&(e.maleWithDisability=b,e.maleWithoutDisability=d,e.femaleWithDisability=c,e.femaleWithoutDisability=u,e.lgbtqWithDisability=f,e.lgbtqWithoutDisability=x),e}),[D,a,s]),q={total:"#3b82f6",male:"#2563eb",female:"#f97316",lgbtq:"#14b8a6",withDisability:"#c62828",withoutDisability:"#81c784",maleWithDisability:"#1e3a8a",maleWithoutDisability:"#60a5fa",femaleWithDisability:"#d97706",femaleWithoutDisability:"#fbbf24",lgbtqWithDisability:"#047857",lgbtqWithoutDisability:"#34d399"},w=i=>({total:"Total",male:"Male",female:"Female",lgbtq:"LGBTQ",withDisability:"With Disability",withoutDisability:"Without Disability",maleWithDisability:"Male (Dis.)",maleWithoutDisability:"Male (No Dis.)",femaleWithDisability:"Female (Dis.)",femaleWithoutDisability:"Female (No Dis.)",lgbtqWithDisability:"LGBTQ (Dis.)",lgbtqWithoutDisability:"LGBTQ (No Dis.)"})[i]||i,L=Object.keys(j[0]||{}).filter(i=>i!=="livelihood_type"),G=({active:i,payload:l,label:r})=>i&&l&&l.length?t.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-gray-300 text-sm min-w-[180px] z-50 relative",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-2 text-base",children:r}),l.map((o,m)=>t.jsxs("div",{className:"flex justify-between text-gray-700 py-1",children:[t.jsx("span",{children:w(o.name)}),t.jsx("span",{className:"font-semibold text-gray-800",children:new Intl.NumberFormat().format(o.value)})]},`tooltip-${m}`))]}):null;return t.jsxs("div",{className:"border rounded-xl p-4 mb-0 bg-white hover:shadow-lg transition-shadow duration-300",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:_}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:()=>N(!a),className:"sr-only"}),t.jsx("div",{className:`w-10 h-5 rounded-full transition-colors duration-300 ${a?"bg-blue-500":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-300 ${a?"translate-x-5":"translate-x-0"}`})]}),t.jsx("span",{className:"text-gray-700 font-medium hover:text-blue-500",children:"Gender"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"checkbox",checked:s,onChange:()=>W(!s),className:"sr-only"}),t.jsx("div",{className:`w-10 h-5 rounded-full transition-colors duration-300 ${s?"bg-green-500":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-300 ${s?"translate-x-5":"translate-x-0"}`})]}),t.jsx("span",{className:"text-gray-700 font-medium hover:text-green-500",children:"Disability"})]})]})]}),t.jsx(S,{width:"100%",height:v,children:t.jsxs(T,{data:j,margin:{top:20,right:20,left:0,bottom:30},children:[t.jsx($,{strokeDasharray:"3 3"}),t.jsx(k,{dataKey:"livelihood_type",tick:i=>{const{x:l,y:r,payload:o}=i,y=o.value.split(/[\s/]+/);return t.jsx("g",{transform:`translate(${l},${r+10})`,children:y.map((p,h)=>t.jsx("text",{x:0,y:h*12,textAnchor:"middle",fill:"#555",fontSize:12,children:p},h))})},interval:0}),t.jsx(C,{tick:{fontSize:12}}),t.jsx(z,{content:t.jsx(G,{})}),t.jsx(F,{formatter:w,verticalAlign:"bottom",align:"center",wrapperStyle:{paddingTop:20}}),L.map(i=>t.jsx(M,{dataKey:i,fill:q[i],radius:[5,5,0,0],barSize:22,children:t.jsx(B,{dataKey:i,position:"top",fontSize:10,formatter:l=>new Intl.NumberFormat().format(l)})},i))]})})]})};export{V as default};
