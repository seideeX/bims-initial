import{K as R,m as P,r as f,j as e,L as z}from"./app-CDPwVV6Y.js";import{S as M}from"./AdminLayout-BW3ywimG.js";import{B as L}from"./button-B_aprJyo.js";import O from"./BreadcrumbsHeader-BOSIhs5m.js";import{D as u}from"./DropdownInputField-BmM-TOT_.js";import{I as D}from"./InputField-D_ZI8EKx.js";import"./switch-Zowgx48p.js";import{t as _,T}from"./index-CH7DWExs.js";import{S as U}from"./SelectField-DIeNwIQe.js";import{I as c}from"./InputError-CsvCol3W.js";import"./sidebar-BqlEtGlg.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./input-DTbtaxsV.js";import"./index-8Tef56KC.js";import"./index-Dsz93ONd.js";import"./floating-ui.react-dom-VvtSZ_DO.js";import"./x-rg4AgZHH.js";import"./createLucideIcon-B4SoG9zf.js";import"./tooltip-10O7WS77.js";import"./nav-user-BTW7oy-u.js";import"./avatar-p9YAZDXV.js";import"./dropdown-menu-DFrz86N0.js";import"./check-BsJSkZwI.js";import"./chevron-right-DYtVQaAj.js";import"./useAppUrl-BIsbUUVL.js";import"./DeleteConfirmationModal-DcMwm5QA.js";import"./file-text-DhLfxzDZ.js";import"./users-round-BK2vts8v.js";import"./heart-pulse-BRIexC2Z.js";import"./chevron-up-BBBA9wsx.js";import"./breadcrumb-DsnADmME.js";import"./index-BntGPR1O.js";function _e({details:a,puroks:j,streets:g}){var h,b,v;const y=[{label:"Basic Information",showOnMobile:!0}],o=R().props,d=(o==null?void 0:o.success)??null,p=(o==null?void 0:o.error)??null,s=({label:r,value:m,onChange:l,error:x,helper:B,...E})=>e.jsxs("div",{children:[e.jsx(D,{label:r,value:m,onChange:l,...E}),e.jsx(c,{message:x}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:B})]}),{data:i,setData:t,post:N,errors:n,processing:C}=P({resident_id:a.id||null,firstname:a.firstname||"",middlename:a.middlename||"",lastname:a.lastname||"",maiden_name:a.maiden_name||"",suffix:a.suffix||"",birthdate:a.birthdate||"",birthplace:a.birthplace||"",sex:a.sex||"",civil_status:a.civil_status||"",registered_voter:!!a.registered_voter,contact_number:a.contact_number||"",email:a.email||"",citizenship:a.citizenship||"",religion:a.religion||"",residency_type:a.residency_type||"",residency_date:a.residency_date||"",purok_number:((h=a.purok_number)==null?void 0:h.toString())||"",street_id:((b=a.street_id)==null?void 0:b.toString())||"",street_name:((v=a.street)==null?void 0:v.street_name)||"",ethnicity:a.ethnicity||"",_method:"PUT"}),S=a!=null&&a.resident_picture_path?"/storage/"+a.resident_picture_path:null,w=j.map(r=>({label:"Purok "+r,value:r.toString()})),I=g.map(r=>({label:r.street_name,value:r.id.toString()})),k=r=>{r.preventDefault(),N(route("resident_account.update.info",i.resident_id),{onError:m=>{console.log(m)}})},F=r=>{const m=Number(r.target.value),l=g.find(x=>x.id==m);l&&(t("street_id",l.id),t("street_name",(l==null?void 0:l.street_name)||""),t("purok_id",l.purok.id),t("purok_number",l.purok.purok_number))};return f.useEffect(()=>{d&&_.success(d,{description:"Operation successful!",duration:3e3,closeButton:!0}),o.success=null},[d]),f.useEffect(()=>{p&&_.error(p,{description:"Operation failed!",duration:3e3,closeButton:!0}),o.error=null},[p]),e.jsxs(M,{children:[e.jsx(T,{richColors:!0}),e.jsx(z,{title:"Resident Basic Information"}),e.jsx(O,{breadcrumbs:y}),e.jsx("div",{className:"p-3 md:p-6 bg-gray-50 min-h-screen",children:e.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-4 lg:px-6",children:e.jsxs("form",{onSubmit:k,className:"space-y-12",children:[e.jsxs("div",{className:"bg-white border rounded-2xl shadow-md p-6 md:p-10 space-y-10",children:[e.jsxs("div",{className:"space-y-2 border-b pb-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"}),"Personal Information"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Kindly provide accurate and updated information for barangay documentation."})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i.resident_image instanceof File?URL.createObjectURL(i.resident_image):S||"/images/default-avatar.jpg",alt:"Resident Image",className:"w-32 h-32 object-cover rounded-full border shadow-sm ring-2 ring-gray-100"}),e.jsx("label",{htmlFor:"resident_image",className:"absolute bottom-0 right-0 bg-blue-600 text-white text-xs rounded-full p-1.5 cursor-pointer hover:bg-blue-700 transition",children:"Upload"})]}),e.jsx("input",{id:"resident_image",type:"file",accept:"image/*",onChange:r=>{const m=r.target.files[0];m&&t("resident_image",m)},className:"hidden"}),e.jsx(c,{message:n.resident_image}),e.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:"Preferred formats: JPG/PNG â€¢ Maximum size: 5MB"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(s,{label:"First Name",value:i.firstname,error:n.firstname,helper:"Resident's legal first name",onChange:r=>t("firstname",r.target.value)}),e.jsx(s,{label:"Middle Name",value:i.middlename,error:n.middlename,helper:"Leave blank if none",onChange:r=>t("middlename",r.target.value)}),e.jsx(s,{label:"Last Name",value:i.lastname,error:n.lastname,helper:"Resident's family name",onChange:r=>t("lastname",r.target.value)}),e.jsx(s,{label:"Maiden Name",value:i.maiden_name,error:n.maiden_name,helper:"For married women only",onChange:r=>t("maiden_name",r.target.value)}),e.jsx(s,{label:"Suffix",value:i.suffix,error:n.suffix,helper:"Ex: Jr., Sr., III",onChange:r=>t("suffix",r.target.value)}),e.jsx(s,{type:"date",label:"Birthdate",value:i.birthdate,error:n.birthdate,helper:"Select date of birth",onChange:r=>t("birthdate",r.target.value)}),e.jsx(s,{label:"Birthplace",value:i.birthplace,error:n.birthplace,helper:"City / Province",onChange:r=>t("birthplace",r.target.value)}),e.jsx(u,{label:"Sex",value:i.sex,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],onChange:r=>t("sex",r)}),e.jsx(c,{message:n.sex}),e.jsx(u,{label:"Civil Status",value:i.civil_status,options:[{value:"single",label:"Single"},{value:"married",label:"Married"},{value:"widowed",label:"Widowed"},{value:"annulled",label:"Annulled"}],onChange:r=>t("civil_status",r)}),e.jsx(c,{message:n.civil_status}),e.jsx(s,{label:"Contact Number",value:i.contact_number,error:n.contact_number,helper:"Format: 09xxxxxxxxx",onChange:r=>t("contact_number",r.target.value)}),e.jsx(s,{label:"Email",value:i.email,error:n.email,helper:"Optional",onChange:r=>t("email",r.target.value)}),e.jsx(s,{label:"Citizenship",value:i.citizenship,error:n.citizenship,helper:"Ex: Filipino",onChange:r=>t("citizenship",r.target.value)}),e.jsx(s,{label:"Religion",value:i.religion,error:n.religion,helper:"Optional",onChange:r=>t("religion",r.target.value)}),e.jsx(s,{label:"Ethnicity",value:i.ethnicity,error:n.ethnicity,helper:"Optional",onChange:r=>t("ethnicity",r.target.value)}),e.jsx(u,{label:"Residency Type",value:i.residency_type,options:[{value:"permanent",label:"Permanent"},{value:"temporary",label:"Temporary"}],onChange:r=>t("residency_type",r)}),e.jsx(c,{message:n.residency_type}),e.jsx(s,{type:"number",label:"Residency Year",value:i.residency_date||"",error:n.residency_date,helper:"Year resident moved in (ex: 1970)",min:"1900",max:new Date().getFullYear(),onChange:r=>t("residency_date",r.target.value)}),e.jsx(U,{label:"Purok Number",name:"purok_number",value:i.purok_number||"",onChange:r=>t("purok_number",r.target.value),items:w}),e.jsx(c,{message:n.purok_number}),e.jsx(u,{label:"Street Name",name:"street_id",value:i.street_name,placeholder:"Ex: Rizal St., Mabini Avenue",items:I,onChange:r=>F(r)}),e.jsx(c,{message:n.street_id})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{disabled:C,className:"px-6 py-3 text-base",children:"Save Changes"})})]})})})]})}export{_e as default};
