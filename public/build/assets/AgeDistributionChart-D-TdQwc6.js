import{r as l,j as t}from"./app-CDPwVV6Y.js";import{R as L}from"./ResponsiveContainer-D7OQ-m1D.js";import{B as C,Y as T,a as k,L as z}from"./BarChart-xByY4X53.js";import{C as B}from"./CartesianGrid-FaArFERp.js";import{X as Y}from"./XAxis-BgXJW02-.js";import{T as F}from"./Tooltip-DwUH7b28.js";import{L as P}from"./Legend-gx1d32PK.js";import"./clsx-B-dksMZM.js";import"./CategoricalChart-CwfDGYo-.js";import"./string-BbYD24iH.js";import"./Label-DusUq1zg.js";import"./index-Dsz93ONd.js";function Z({ageDistribution:y,height:j=280}){const[s,w]=l.useState(!1),[a,N]=l.useState(!1),W=l.useMemo(()=>s&&a?"Population by Age, Gender & Disability":s?"Population by Age & Gender":a?"Population by Age & Disability":"Population by Age",[s,a]),x=["0_6_mos","7_mos_to_2_yrs","3_to_5_yrs","6_to_12_yrs","13_to_17_yrs","18_to_59_yrs","60_plus_yrs"],p=l.useMemo(()=>[...y].sort((e,o)=>x.indexOf(e.age_group)-x.indexOf(o.age_group)),[y]),g=e=>({"0_6_mos":"0–6M","7_mos_to_2_yrs":"7M–2Y","3_to_5_yrs":"3–5Y","6_to_12_yrs":"6–12Y","13_to_17_yrs":"13–17Y","18_to_59_yrs":"18–59Y","60_plus_yrs":"60+"})[e]||e,_=e=>({total:"Total Population",male:"Male",female:"Female",lgbtq:"LGBTQ",withDisability:"With Dis.",withoutDisability:"No Dis.",maleWithDisability:"Male (Dis.)",maleWithoutDisability:"Male (No Dis.)",femaleWithDisability:"Fem (Dis.)",femaleWithoutDisability:"Fem (No Dis.)",lgbtqWithDisability:"LGBTQ (Dis.)",lgbtqWithoutDisability:"LGBTQ (No Dis.)"})[e]||e,D=l.useMemo(()=>p.map(e=>{const{age_group:o,male_without_disability:d,male_with_disability:r,female_without_disability:f,female_with_disability:A,lgbtq_without_disability:S,lgbtq_with_disability:G}=e,n=Number(d),m=Number(r),b=Number(f),c=Number(A),h=Number(S),u=Number(G),i={age_group:o};return!s&&!a?i.total=n+m+b+c+h+u:s&&!a?(i.male=n+m,i.female=b+c,i.lgbtq=h+u):!s&&a?(i.withDisability=m+c+u,i.withoutDisability=n+b+h):s&&a&&(i.maleWithDisability=m,i.maleWithoutDisability=n,i.femaleWithDisability=c,i.femaleWithoutDisability=b,i.lgbtqWithDisability=u,i.lgbtqWithoutDisability=h),i}),[p,s,a]),v={male:"#4f46e5",female:"#f97316",lgbtq:"#14b8a6",total:"#8884d8",withDisability:"#c62828",withoutDisability:"#81c784",maleWithDisability:"#1e3a8a",maleWithoutDisability:"#60a5fa",femaleWithDisability:"#d97706",femaleWithoutDisability:"#fbbf24",lgbtqWithDisability:"#047857",lgbtqWithoutDisability:"#34d399"},q=Object.keys(D[0]||{}).filter(e=>e!=="age_group"),M=({active:e,payload:o,label:d})=>e&&o&&o.length?t.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border border-gray-300 text-sm min-w-[180px] z-50 relative",children:[t.jsx("p",{className:"font-semibold text-gray-900 mb-2 text-base",children:g(d)}),o.map((r,f)=>t.jsxs("div",{className:"flex justify-between text-gray-700 py-1",children:[t.jsx("span",{className:"text-sm",children:_(r.name)}),t.jsx("span",{className:"font-semibold text-gray-800",children:new Intl.NumberFormat().format(r.value)})]},`tooltip-${f}`))]}):null;return t.jsxs("div",{className:"border rounded-xl p-4 mb-0 bg-white hover:shadow-lg transition-shadow duration-300",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:W}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"checkbox",checked:s,onChange:()=>w(!s),className:"sr-only"}),t.jsx("div",{className:`w-10 h-5 rounded-full transition-colors duration-300 ${s?"bg-blue-500":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-300 ${s?"translate-x-5":"translate-x-0"}`})]}),t.jsx("span",{className:"text-gray-700 font-medium hover:text-blue-500",children:"Gender"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:()=>N(!a),className:"sr-only"}),t.jsx("div",{className:`w-10 h-5 rounded-full transition-colors duration-300 ${a?"bg-green-500":"bg-gray-300"}`}),t.jsx("div",{className:`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-300 ${a?"translate-x-5":"translate-x-0"}`})]}),t.jsx("span",{className:"text-gray-700 font-medium hover:text-green-500",children:"Disability"})]})]})]}),t.jsx(L,{width:"100%",height:j,className:"relative z-50",children:t.jsxs(C,{data:D,margin:{top:20,right:20,left:0,bottom:30},children:[t.jsx(B,{strokeDasharray:"3 3"}),t.jsx(Y,{dataKey:"age_group",tick:{fontSize:12},tickFormatter:g}),t.jsx(T,{tick:{fontSize:12}}),t.jsx(F,{content:t.jsx(M,{})}),t.jsx(P,{wrapperStyle:{fontSize:12},formatter:_}),q.map(e=>t.jsx(k,{dataKey:e,fill:v[e],radius:[5,5,0,0],barSize:22,isAnimationActive:!0,children:t.jsx(z,{dataKey:e,position:"top",fontSize:10,formatter:o=>new Intl.NumberFormat().format(o)})},e))]})})]})}export{Z as default};
