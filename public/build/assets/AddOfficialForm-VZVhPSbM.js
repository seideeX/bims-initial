import{m as f,j as e,S as j}from"./app-CDPwVV6Y.js";import{I as m}from"./InputField-D_ZI8EKx.js";import{D as o}from"./DropdownInputField-BmM-TOT_.js";import{Y as d}from"./YearDropdown-Cu5CjLYl.js";import{S as v}from"./SelectField-DIeNwIQe.js";import{B as _}from"./constants-DHCt9dPc.js";import{u as S}from"./handleResidentChange-yybasKmi.js";import"./index-Dsz93ONd.js";const O=({onSubmit:N,residents:r,puroks:c})=>{const{data:t,setData:s,processing:l}=f({resident_name:"",position:"",purok_number:"",termStart:"",termEnd:"",contact_number:"",email:"",resident_image_path:""}),n=a=>{s(a.target.name,a.target.value)},u=S(r,s),p=a=>{const i=a.target.files[0];i&&s("image",i)},h=a=>{a.preventDefault(),j.post(route("barangay_official.store"))},x=Object.entries(_).map(([a,i])=>({label:i,value:a.toString()})),g=c.map(a=>({label:"Purok "+a,value:a.toString()})),b=r.map(a=>({label:`${a.firstname} ${a.middlename} ${a.lastname} ${a.suffix??""}`,value:a.id.toString()}));return e.jsxs("form",{onSubmit:h,className:"max-w-xl space-y-6",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{htmlFor:"imageUpload",className:"w-32 h-32 border rounded overflow-hidden bg-gray-100 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition",children:t.resident_image_path&&typeof t.resident_image_path!="string"?e.jsx("img",{src:URL.createObjectURL(t.resident_image_path),alt:"Preview",className:"object-cover w-full h-full"}):e.jsx("span",{className:"text-gray-400 text-sm text-center px-2",children:"Click to Upload"})}),e.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:p,className:"hidden"})]}),e.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"resident_name",children:"Full Name"}),e.jsx(o,{id:"resident_name",name:"resident_name",placeholder:"Enter full name",value:t.resident_name||"",onChange:a=>u(a),items:b})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"position",children:"Position"}),e.jsx(v,{id:"position",name:"position",value:t.position,onChange:n,items:x,children:e.jsx("option",{value:"",disabled:!0,children:"Select barangay position"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"purok_number",children:"Designated Purok"}),e.jsx(o,{id:"purok_number",name:"purok_number",placeholder:"Enter purok number or name",value:t.purok_number.toString(),onChange:n,items:g})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{id:"termStart",name:"termStart",value:t.termStart,onChange:n}),e.jsx(d,{id:"termEnd",name:"termEnd",value:t.termEnd,onChange:n})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(m,{id:"contact_number",name:"contact_number",type:"text",placeholder:"phone number",value:t.contact_number||"",onChange:n,disabled:!0}),e.jsx(m,{id:"email",name:"email",type:"email",placeholder:"email",value:t.email||"",onChange:n,disabled:!0})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",disabled:l,children:l?"Saving...":"Save"})})]})};export{O as default};
