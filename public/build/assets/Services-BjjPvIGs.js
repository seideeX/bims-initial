import{j as t,L as N,S}from"./app-CDPwVV6Y.js";import{S as T}from"./AdminLayout-BW3ywimG.js";import V from"./BreadcrumbsHeader-BOSIhs5m.js";import{T as C}from"./TableSection-DJejfqZ4.js";import A from"./DynamicTable-C_SQJSlc.js";import{B}from"./BarangayFilterCard-BXzB8O3P.js";import{N as E}from"./NoDataPlaceholder-dm08Djn6.js";import{c as i}from"./createLucideIcon-B4SoG9zf.js";import"./sidebar-BqlEtGlg.js";import"./button-B_aprJyo.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./input-DTbtaxsV.js";import"./index-8Tef56KC.js";import"./index-Dsz93ONd.js";import"./floating-ui.react-dom-VvtSZ_DO.js";import"./x-rg4AgZHH.js";import"./tooltip-10O7WS77.js";import"./nav-user-BTW7oy-u.js";import"./avatar-p9YAZDXV.js";import"./dropdown-menu-DFrz86N0.js";import"./check-BsJSkZwI.js";import"./chevron-right-DYtVQaAj.js";import"./useAppUrl-BIsbUUVL.js";import"./index-CH7DWExs.js";import"./DeleteConfirmationModal-DcMwm5QA.js";import"./file-text-DhLfxzDZ.js";import"./users-round-BK2vts8v.js";import"./heart-pulse-BRIexC2Z.js";import"./chevron-up-BBBA9wsx.js";import"./breadcrumb-DsnADmME.js";import"./card-B7XZtP7B.js";import"./SelectField-DIeNwIQe.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],g=i("bath",H);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]],L=i("cable",w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],z=i("droplets",$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M7 12h13a1 1 0 0 1 1 1 5 5 0 0 1-5 5h-.598a.5.5 0 0 0-.424.765l1.544 2.47a.5.5 0 0 1-.424.765H5.402a.5.5 0 0 1-.424-.765L7 18",key:"kc4kqr"}],["path",{d:"M8 18a5 5 0 0 1-5-5V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8",key:"1tqs57"}]],q=i("toilet",D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],F=i("trash",W);function fa({servicesData:s,barangays:x=[],selectedBarangay:d,queryParams:h}){const k=[{label:"Dashboard",showOnMobile:!0}];h=h||{};const j=!s||s.length===0,f=r=>{const c=r.target.value;S.get(route("cdrrmo_admin.services"),c?{barangay_id:c}:{})},v={"Bath and Wash Area":{icon:t.jsx(g,{}),color:"blue"},"Electricity Source":{icon:t.jsx(L,{}),color:"yellow"},Toilet:{icon:t.jsx(q,{}),color:"purple"},"Waste Management":{icon:t.jsx(F,{}),color:"green"},"Water Source":{icon:t.jsx(z,{}),color:"blue"}};return t.jsxs(T,{children:[t.jsx(N,{title:"Admin Dashboard"}),t.jsx(V,{breadcrumbs:k}),t.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:t.jsx("div",{className:"mx-auto w-full",children:j?t.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:t.jsx(E,{tip:"Use the year selector above to navigate to a year with available data."})}):t.jsxs(t.Fragment,{children:[t.jsx(B,{selectedBarangay:d,handleBarangayChange:f,barangays:x}),s.length>0&&s[0].categories.map((r,c)=>{const y=new Set;s.forEach(a=>{const e=a.categories.find(o=>o.category===r.category);e&&e.services.forEach(o=>y.add(o.service_name))});const l=Array.from(y).map(a=>({key:a,label:a})),u=[{key:"barangay_name",label:"Barangay"},...l,{key:"total",label:"Total"}];let m=s.map(a=>{const e=a.categories.find(n=>n.category===r.category),o={number:a.number,barangay_name:a.barangay_name,total:(e==null?void 0:e.total)||0};return l.forEach(n=>{const p=e==null?void 0:e.services.find(M=>M.service_name===n.key);o[n.key]=(p==null?void 0:p.households_quantity)||0}),o});if(!d){const a={number:null,barangay_name:"TOTAL",total:m.reduce((e,o)=>e+o.total,0)};l.forEach(e=>{a[e.key]=m.reduce((o,n)=>o+n[e.key],0)}),m.push(a)}const _={barangay_name:a=>t.jsx("span",{className:"font-semibold text-gray-700",children:a.barangay_name}),total:a=>t.jsx("span",{className:"font-bold text-blue-600",children:a.total}),...l.reduce((a,e)=>(a[e.key]=o=>t.jsx("span",{className:"text-gray-700",children:o[e.key]}),a),{})},b=v[r.category]||{icon:t.jsx(g,{}),color:"gray"};return t.jsx(C,{icon:b.icon,color:b.color,title:r.category,description:`Household services under ${r.category}`,tableProps:{component:A,passedData:m,allColumns:u,columnRenderers:_,visibleColumns:u.map(a=>a.key),showTotal:!0,tableHeight:"500px"}},c)})]})})})]})}export{fa as default};
