import{j as e}from"./app-CDPwVV6Y.js";import{I as w}from"./InputLabel-C3y8TkvV.js";import{I as d}from"./InputField-D_ZI8EKx.js";import{I as m}from"./InputError-CsvCol3W.js";import{R as u}from"./RadioGroup-K1vYBuUY.js";import{D as p}from"./DropdownInputField-BmM-TOT_.js";import{S as o}from"./SelectField-DIeNwIQe.js";import{Y as b}from"./YearDropdown-Cu5CjLYl.js";import{I as k,a as C,b as R}from"./index-D4O4cOmu.js";import{B as v}from"./button-B_aprJyo.js";import{t as $}from"./index-CH7DWExs.js";import{R as E}from"./rotate-ccw-D-jj88si.js";import"./index-Dsz93ONd.js";import"./iconBase-DNpEM3Pe.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./createLucideIcon-B4SoG9zf.js";function K({data:r,setData:c,errors:t,residentsList:j,occupationTypes:x,handleResidentChange:y,handleOccupationFieldChange:i,addOccupation:g,removeOccupation:_,handleSubmitOccupation:h,handleUpdateOccupation:f,occupationDetails:n,reset:N}){return e.jsx("div",{className:"w-full rounded-xl border border-white/20 bg-white/10 backdrop-blur-md shadow-lg text-sm text-black p-4 space-y-4",children:e.jsxs("form",{onSubmit:n?f:h,children:[e.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-8",children:"Resident's Info"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-y-2 md:gap-x-4 mb-5 w-full",children:[e.jsxs("div",{className:"md:row-span-2 md:col-span-2 flex flex-col items-center space-y-2",children:[e.jsx(w,{htmlFor:"resident_image",value:"Profile Photo"}),e.jsx("img",{src:r.resident_image?`/storage/${r.resident_image}`:"/images/default-avatar.jpg",alt:"Resident Image",className:"w-32 h-32 object-cover rounded-full border border-gray-200"})]}),e.jsxs("div",{className:"md:col-span-4 space-y-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(p,{label:"Full Name",name:"resident_name",value:r.resident_name||"",placeholder:"Select a resident",onChange:a=>y(a),items:j,readOnly:n}),e.jsx(m,{message:t.resident_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(d,{label:"Birthdate",name:"birthdate",value:r.birthdate||"",readOnly:!0})}),e.jsx("div",{children:e.jsx(d,{label:"Purok Number",name:"purok_number",value:r.purok_number,readOnly:!0})})]}),e.jsxs("div",{className:"w-[200px] mb-4",children:[e.jsx(o,{label:"Current Employment Status",name:"employment_status",value:r.employment_status||"",onChange:a=>c("employment_status",a.target.value),items:[{label:"Employed",value:"employed"},{label:"Unemployed",value:"unemployed"},{label:"Underemployed",value:"under_employed"},{label:"Retired",value:"retired"},{label:"Student",value:"student"}]}),e.jsx(m,{message:t.employment_status,className:"mt-2"})]})]})]}),Array.isArray(r.occupations)&&r.occupations.map((a,l)=>e.jsxs("div",{className:"border p-4 mb-4 rounded-md relative bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{label:"Occupation",name:"occupation",value:a.occupation||"",onChange:s=>i(s,l,"occupation"),placeholder:"Select or Enter Occupation",items:x,disabled:a.employment_status==="unemployed"}),e.jsx(m,{message:t[`occupations.${l}.occupation`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{label:"Employment Type",name:"employment_type",value:a.employment_type||"",onChange:s=>i(s,l,"employment_type"),items:[{label:"Full-time",value:"full_time"},{label:"Part-time",value:"part_time"},{label:"Seasonal",value:"seasonal"},{label:"Contractual",value:"contractual"},{label:"Self-employed",value:"self_employed"}]}),e.jsx(m,{message:t[`occupations.${l}.employment_type`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{label:"Occupation Status",name:"occupation_status",value:a.occupation_status||"",onChange:s=>i(s,l,"occupation_status"),items:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Ended",value:"ended"},{label:"Retired",value:"retired"},{label:"Terminated",value:"terminated"},{label:"Resigned",value:"resigned"}]}),e.jsx(m,{message:t[`occupations.${l}.occupation_status`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{label:"Work Arrangement",name:"work_arrangement",items:[{label:"Remote",value:"remote"},{label:"On-site",value:"on_site"},{label:"Hybrid",value:"hybrid"}],value:a.work_arrangement||"",onChange:s=>i(s,l,"work_arrangement")}),e.jsx(m,{message:t[`occupations.${l}.work_arrangement`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{label:"Employer name",name:"employer",type:"text",value:a.employer||"",onChange:s=>i(s,l,"employer"),placeholder:"Enter employer name"}),e.jsx(m,{message:t[`occupations.${l}.employer`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(b,{label:"Year Started",name:"started_at",value:a.started_at||"",onChange:s=>i(s,l,"started_at")}),e.jsx(m,{message:t[`occupations.${l}.started_at`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(b,{label:"Year Ended",name:"ended_at",value:a.ended_at||"",onChange:s=>i(s,l,"ended_at"),disabled:a.occupation_status==="active"}),e.jsx(m,{message:t[`occupations.${l}.ended_at`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{type:"number",label:"Income",name:"income",value:a.income||"",onChange:s=>i(s,l,"income"),placeholder:"Enter Income"}),e.jsx(m,{message:t[`occupations.${l}.income`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{label:"Income Frequency",name:"income_frequency",value:a.income_frequency||"",onChange:s=>i(s,l,"income_frequency"),items:[{label:"Daily",value:"daily"},{label:"Bi-weekly",value:"bi_weekly"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"},{label:"Annually",value:"annually"}]}),e.jsx(m,{message:t[`occupations.${l}.income_frequency`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{label:"Overseas Filipino Worker",name:"is_ofw",selectedValue:a.is_ofw||"",options:[{label:"Yes",value:1},{label:"No",value:0}],onChange:s=>i(s,l,"is_ofw")}),e.jsx(m,{message:t[`occupations.${l}.is_ofw`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{label:"Is Main Livelihood",name:"is_main_livelihood",selectedValue:a.is_main_livelihood||"",options:[{label:"Yes",value:1},{label:"No",value:0}],onChange:s=>i(s,l,"is_main_livelihood")}),e.jsx(m,{message:t[`occupations.${l}.is_main_livelihood`],className:"mt-2"})]})]}),n===null&&e.jsx("button",{type:"button",onClick:()=>{_(l),$.warning("Occupation removed.",{duration:2e3})},className:"absolute top-1 right-2 flex items-center gap-1 text-sm text-red-400 hover:text-red-800 font-medium mt-1 mb-5 transition-colors duration-200",children:e.jsx(k,{className:"text-2xl"})})]},l)),e.jsxs("div",{className:"flex justify-between items-center p-3",children:[n===null?e.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 font-medium mt-4 transition-colors duration-200",children:[e.jsx(C,{className:"text-2xl"}),e.jsx("span",{children:"Add Occupation"})]}):e.jsx("div",{}),e.jsxs("div",{className:"flex justify-end items-center text-end mt-5 gap-4",children:[n==null&&e.jsxs(v,{type:"button",onClick:()=>N(),children:[e.jsx(E,{})," Reset"]}),e.jsxs(v,{className:"bg-blue-700 hover:bg-blue-400 ",type:"submit",children:[n?"Update":"Add"," ",e.jsx(R,{})]})]})]})]})})}export{K as default};
