import{j as e}from"./app-CDPwVV6Y.js";import{R as u}from"./ResponsiveContainer-D7OQ-m1D.js";import{P as d,a as x}from"./PieChart-BvDCyIIy.js";import{C as p}from"./CategoricalChart-CwfDGYo-.js";import{L as h}from"./Label-DusUq1zg.js";import{T as f}from"./Tooltip-DwUH7b28.js";import"./clsx-B-dksMZM.js";import"./string-BbYD24iH.js";import"./index-Dsz93ONd.js";const r=["#0088FE","#00C49F","#FFBB28","#FF8042","#A28DD0","#FF6666","#66CCFF"];function R({data:o}){const l=o.map(t=>({name:t.service_name,value:t.households_quantity})),n=l.reduce((t,a)=>t+a.value,0),m=({active:t,payload:a})=>{if(t&&a&&a.length){const s=a[0].payload,c=(s.value/n*100).toFixed(2);return e.jsx("div",{className:"p-2 bg-white border border-gray-300 rounded shadow-md",children:e.jsx("p",{className:"text-sm font-semibold",children:`${s.name}: ${new Intl.NumberFormat().format(s.value)} (${c}%)`})})}return null},i=({payload:t})=>!t||t.length===0?null:e.jsx("div",{className:"mt-4 max-h-24 overflow-y-auto custom-scrollbar pr-1 w-full",children:t.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between text-sm py-0.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),e.jsxs("span",{className:"truncate max-w-[100px]",children:[a.value," "]})]}),e.jsx("span",{className:"font-medium text-gray-700",children:new Intl.NumberFormat().format(a.payload.value)})]},`item-${s}`))});return e.jsxs("div",{className:"w-full h-[280px] flex flex-col items-center",children:[e.jsx(u,{width:"100%",height:180,children:e.jsxs(d,{children:[e.jsxs(x,{data:l,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,innerRadius:40,label:!1,children:[l.map((t,a)=>e.jsx(p,{fill:r[a%r.length]},`cell-${a}`)),e.jsx(h,{value:new Intl.NumberFormat().format(n),position:"center",className:"text-base font-bold"})]}),e.jsx(f,{content:e.jsx(m,{})})]})}),e.jsx(i,{payload:l.map((t,a)=>({value:t.name,color:r[a%r.length],payload:{value:t.value}}))})]})}export{R as default};
